---
title: Payment Issues
description: Troubleshooting payment processing problems
navigation:
  icon: i-lucide-credit-card
seo:
  title: Payment Issues Troubleshooting
  description: Solutions to payment processing problems.
---

## Stripe Payment Issues

### Payment Not Processing

**Check**:
1. Stripe account is connected
2. Stripe API keys are correct
3. Account status is active
4. Payment method is valid
5. Invoice amount is correct

**Solutions**:
- Reconnect Stripe account
- Verify API keys in settings
- Check Stripe Dashboard for errors
- Test with Stripe test cards

### Payment Failed

**Common Reasons**:
- Insufficient funds
- Card declined
- Expired card
- Invalid payment method
- 3D Secure authentication failed

**Solutions**:
- Ask customer to try different card
- Verify card details
- Check Stripe Dashboard for specific error
- Review payment logs

### Webhook Not Updating Status

**Check**:
1. Webhook endpoint is accessible
2. Webhook secret is correct
3. Events are subscribed
4. Webhook is receiving events

**Solutions**:
- Verify webhook URL
- Check webhook secret matches
- Review webhook logs in Stripe Dashboard
- Test webhook with Stripe CLI

## Crypto Payment Issues

### Payment Not Detected

**Check**:
1. Payment address is correct
2. Destination tag matches (XRP)
3. Payment amount matches
4. Payment was sent after creation
5. WebSocket connection is active

**Solutions**:
- Verify address on blockchain explorer
- Check destination tag is included
- Verify payment amount (within tolerance)
- Check WebSocket connection status
- Review payment monitoring logs

### Exchange Rate Issues

**Check**:
1. CoinGecko API is accessible
2. API key is valid (if using)
3. Rate limits not exceeded
4. XRP is supported

**Solutions**:
- Add CoinGecko API key for higher limits
- Check API status
- Verify rate calculation
- Review exchange rate logs

### Confirmation Issues

**Check**:
1. Minimum confirmations configured
2. Confirmations are being tracked
3. Transaction is confirmed on blockchain
4. Confirmation threshold is met

**Solutions**:
- Verify confirmation requirements
- Check blockchain explorer
- Review confirmation tracking
- Adjust minimum confirmations if needed

## Payment Plan Issues

### Installments Not Updating

**Check**:
1. Payment plan is active
2. Payment was recorded
3. Payment allocation is working
4. Installment status logic

**Solutions**:
- Verify payment plan status
- Check payment allocation
- Review installment updates
- Test payment recording

### Payment Allocation Errors

**Check**:
1. Payment amount is correct
2. Installment amounts match
3. Allocation logic is correct
4. Database updates are working

**Solutions**:
- Verify payment amounts
- Check allocation calculations
- Review database transactions
- Test allocation manually

## General Payment Troubleshooting

### Check Payment Logs

Review payment history:
1. Open the invoice
2. Go to **Payments** tab
3. Review payment records
4. Check payment status
5. Review error messages

### Verify Payment Settings

1. Go to **Settings** â†’ **Payments**
2. Verify Stripe connection
3. Check payment methods enabled
4. Review payment configuration
5. Test payment settings

### Test Payments

Use test mode:
1. Enable test mode
2. Use test cards (Stripe)
3. Use testnet (Crypto)
4. Verify test payments
5. Check payment processing

## Getting Help

For payment issues:
1. Check Stripe Dashboard (for Stripe)
2. Review blockchain explorer (for crypto)
3. Check payment logs
4. Review error messages
5. Contact support if needed

## Next Steps

- **[Common Issues](/troubleshooting/common-issues)** - General troubleshooting
- **[Email Issues](/troubleshooting/email-issues)** - Email problems

